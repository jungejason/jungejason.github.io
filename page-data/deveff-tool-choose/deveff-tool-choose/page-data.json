{"componentChunkName":"component---src-templates-blog-post-js","path":"/deveff-tool-choose/deveff-tool-choose/","result":{"data":{"site":{"siteMetadata":{"title":"Mushyroom Blog","author":"Jason Ge 葛俊"}},"markdownRemark":{"id":"43b824e0-7685-5b32-bebf-595905fcc8b0","excerpt":"This tool is an alternative to . It’s a command line tool to choose columns from a file. The advantage is\nthat it’s easier to use than  in many cases.Example…","html":"<p>This tool is an alternative to <code class=\"language-text\">cut</code>. It’s a command line tool to choose columns from a file. The advantage is\nthat it’s easier to use than <code class=\"language-text\">cut</code> in many cases.</p>\n<h2 id=\"example-1-choose-the-last-item-in-each-line\">Example 1: Choose the last item in each line</h2>\n<p>Sometimes we want to get the last item in each line. With <code class=\"language-text\">choose</code> we don’t need to count. We can use <code class=\"language-text\">-1</code> as the index.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span>\n-rw-r--r--@  <span class=\"token number\">1</span> jasonge  staff     <span class=\"token number\">856932</span> Dec <span class=\"token number\">14</span>  <span class=\"token number\">2022</span> <span class=\"token number\">2022</span>-12-14_01-08-40.png\n-rw-r--r--@  <span class=\"token number\">1</span> jasonge  staff     <span class=\"token number\">199366</span> Dec <span class=\"token number\">29</span>  <span class=\"token number\">2022</span> <span class=\"token number\">2022</span>-12-29_16-12-19.png\n-rwxrwxrwx@  <span class=\"token number\">1</span> jasonge  staff  <span class=\"token number\">994074661</span> Oct <span class=\"token number\">16</span>  <span class=\"token number\">2022</span> C0468.MP4\n-rw-r--r--@  <span class=\"token number\">1</span> jasonge  staff    <span class=\"token number\">4745256</span> Nov  <span class=\"token number\">5</span>  <span class=\"token number\">2022</span> DSC03410.jpg</code></pre></div>\n<p>To get the file name:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> choose <span class=\"token parameter variable\">-1</span>\n<span class=\"token number\">2022</span>-12-14_0\n<span class=\"token number\">2022</span>-12-29_1\nC0468.MP4\nDSC03410.jpg</code></pre></div>\n<h2 id=\"example-2-use-multiple-white-spaces-as-the-delimiter\">Example 2: Use multiple white spaces as the delimiter</h2>\n<p>In the output of <code class=\"language-text\">ls -l</code>, the delimiter is multiple white spaces. Choose use multiple white spaces as the delimiter by\ndefault. So to get the size, we just need to specify the index 4 (index starts from 0):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> choose <span class=\"token number\">4</span>\n<span class=\"token number\">856932</span>\n<span class=\"token number\">199366</span>\n<span class=\"token number\">994074661</span>\n<span class=\"token number\">4745256</span></code></pre></div>\n<h2 id=\"example-3-use-regex-as-the-delimiter\">Example 3: Use regex as the delimiter</h2>\n<p><code class=\"language-text\">choose</code> supports using regex as the delimiter. For example, we have the following csv file which separates each column\nby <code class=\"language-text\">, </code> instead of <code class=\"language-text\">,</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">╰─ <span class=\"token function\">cat</span> foo.csv\nTime Stamp, Date, Time, Counter Value, Increment\n<span class=\"token number\">2024</span>-01-09 08:19:13.9380, <span class=\"token number\">2024</span>-01-09, 08:19:13, <span class=\"token number\">0</span>, <span class=\"token number\">0</span>\n<span class=\"token number\">2024</span>-01-09 08:20:10.6170, <span class=\"token number\">2024</span>-01-09, 08:20:10, <span class=\"token number\">1</span>, <span class=\"token number\">1</span>\n<span class=\"token number\">2024</span>-01-09 08:20:11.3640, <span class=\"token number\">2024</span>-01-09, 08:20:11, <span class=\"token number\">2</span>, <span class=\"token number\">1</span>\n<span class=\"token number\">2024</span>-01-09 08:20:11.9810, <span class=\"token number\">2024</span>-01-09, 08:20:11, <span class=\"token number\">3</span>, <span class=\"token number\">1</span>\n\n╰─ csvlook foo.csv\n<span class=\"token operator\">|</span>          Time Stamp <span class=\"token operator\">|</span>       Date <span class=\"token operator\">|</span>    Time <span class=\"token operator\">|</span>  Counter Value <span class=\"token operator\">|</span>  Increment <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> ------------------- <span class=\"token operator\">|</span> ---------- <span class=\"token operator\">|</span> ------- <span class=\"token operator\">|</span> -------------- <span class=\"token operator\">|</span> ---------- <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 08:19:13 <span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 <span class=\"token operator\">|</span> <span class=\"token number\">8</span>:19:13 <span class=\"token operator\">|</span>              <span class=\"token number\">0</span> <span class=\"token operator\">|</span>      False <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 08:20:10 <span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 <span class=\"token operator\">|</span> <span class=\"token number\">8</span>:20:10 <span class=\"token operator\">|</span>              <span class=\"token number\">1</span> <span class=\"token operator\">|</span>       True <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 08:20:11 <span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 <span class=\"token operator\">|</span> <span class=\"token number\">8</span>:20:11 <span class=\"token operator\">|</span>              <span class=\"token number\">2</span> <span class=\"token operator\">|</span>       True <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 08:20:11 <span class=\"token operator\">|</span> <span class=\"token number\">2024</span>-01-09 <span class=\"token operator\">|</span> <span class=\"token number\">8</span>:20:11 <span class=\"token operator\">|</span>              <span class=\"token number\">3</span> <span class=\"token operator\">|</span>       True <span class=\"token operator\">|</span></code></pre></div>\n<p>To get the <code class=\"language-text\">Date</code> and the <code class=\"language-text\">Counter value</code> column, we can use <code class=\"language-text\">-f \", \"</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">╰─ <span class=\"token function\">cat</span> foo.csv <span class=\"token operator\">|</span> choose <span class=\"token parameter variable\">-f</span> <span class=\"token string\">\", \"</span> <span class=\"token number\">1</span> <span class=\"token number\">3</span> <span class=\"token parameter variable\">-o</span> <span class=\"token string\">\" --> \"</span>\nDate --<span class=\"token operator\">></span> Counter Value\n<span class=\"token number\">2024</span>-01-09 --<span class=\"token operator\">></span> <span class=\"token number\">0</span>\n<span class=\"token number\">2024</span>-01-09 --<span class=\"token operator\">></span> <span class=\"token number\">1</span>\n<span class=\"token number\">2024</span>-01-09 --<span class=\"token operator\">></span> <span class=\"token number\">2</span>\n<span class=\"token number\">2024</span>-01-09 --<span class=\"token operator\">></span> <span class=\"token number\">3</span></code></pre></div>\n<p>Note that we also used the <code class=\"language-text\">-o</code> option to specify the output delimiter.</p>","frontmatter":{"title":"Tool Choose","date":"March 18, 2024","description":"An alternative to `cut`","tags":["deveff","tool","cli","text","cut","awk"]}}},"pageContext":{"slug":"/deveff-tool-choose/deveff-tool-choose/","previous":{"fields":{"slug":"/photography-three-scenarios/photography-three-scenarios/"},"frontmatter":{"title":"Photography Three Scenarios","tags":["photography"]}},"next":{"fields":{"slug":"/lens-leica-135mm-f4-leitz-wetzlar-elmar/lens-leica-135mm-f4-leitz-wetzlar-elmar/"},"frontmatter":{"title":"Vintage Lens LEICA 135mm f/4 LEITZ WETZLAR ELMAR","tags":["photography","lens","leica","135mm","f4","vintage"]}}}},"staticQueryHashes":["426816048","63159454"],"slicesMap":{}}