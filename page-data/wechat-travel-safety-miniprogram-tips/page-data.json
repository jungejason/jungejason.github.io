{"componentChunkName":"component---src-templates-blog-post-js","path":"/wechat-travel-safety-miniprogram-tips/","result":{"data":{"site":{"siteMetadata":{"title":"Mushyroom Blog","author":"Jason Ge 葛俊"}},"markdownRemark":{"id":"13146616-1f7e-5833-ac61-57a77ed74438","excerpt":"一个可能的bug…","html":"<h2>一个可能的bug及其解决办法</h2>\n<p>国际健康码微信小程序上传图片时遇到一个问题，我找到一个解决办法。可能只是我遇到，但是还是分享出来说不定对大家有用。</p>\n<p>填写好了检测日期之后选择图片上传之后，已经填写过了了的检测日期会被清除。这时如果你没有注意到，并继续填写下面的选项并点击提交的话，页面会报错，显示“需要填写检测日期”。这时补充填写检测时期之后再点击提交，会显示需要上传检测图片，尽管检测图片仍然显示在页面上。之后再也无法成功提交。</p>\n<p>解决办法就是重新从头开始。选择上传图片之后重新填上检测日期，然后再填写后面的内容最后进行提交。也就是<strong>初次提交时候确保检测日期不为空</strong>。</p>\n<p>这个bug很tricky。用户往往会怀疑是图片的数量或者图片的格式导致图片上传失败。所以有人提到4张照片6张是上限等等。估计是尝试多次之后碰巧一次填写了日期之后才进行了初次提交。</p>\n<h2>照片的格式，大小，数量，处理方式</h2>\n<p>以下是我的成功经验，供参考。</p>\n<p>1/ 数量：我上传了一共7张</p>\n<p>2/ 格式：jpeg，png</p>\n<p>3/ 大小：每张照片都小于1M</p>\n<p>4/ 转换方式。我的图片源有4种：PDF格式，iPhone拍摄的HEIC格式文件，以及JPEG和PNG格式图片。我使用了Mac自带的Preview软件进行了如下的格式变换和图片压缩：</p>\n<ul>\n<li>PDF -> 小于1M的 JPEG</li>\n<li>大于1M 的 JPG、PNG 、HEIC -> 小于1M的 JPEG</li>\n<li>小于1M 的 JPG 和 PNG，没有转换</li>\n</ul>\n<p>转换的时候，在Preview 软件上选择File -> Export -> 然后选择Format 为JPEG，并通过改变Quality 调节导出文件的大小，最后点击Save。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b55f76661a7d640c6fd32a44e8d35c65/e1250/change-format-and-size.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACcElEQVQoz11Sy47TQBD0//INnCEHOCA+gSsHRPawQixISKwSrRak3QQnjuPYie2MPeNH/Mhjdlx0ex+sGKXUPRNPdU1XWwvH+ZAkSUuIRJLQLxFpKkUcR8LzQ3Fth2IeZMLb1mIZ7YQbVcKLcqFkKlIphUx7RGma7pfL5UvL9/1veZ4jyzJIpZASMtoTMfx1BHctsVUN5O6EtDwSThBZjbIoUPwH4npnbTabT7whVYdYCB2LRG8Tqam8jijGFMsi19Wu7MF5nilN32ullKa7jANzrFarV9Z0Oh3O53MEQaA3IoUThIjjmAuASJHIDHVVQ2uN0+mEw+HQ43hkHPmso6j5P3rVwLq6uhqORiNMJxMdxluooiSCCm3b0sV9H/f7PR5X94BnqzPmTnNCrRtYjuMMwzAEyycjsG+bvvIjmrpG09RPZKauYIocXZ6hyxS6w767M0Z3Xcc+DCzbtof0bLiuq5WUvbqmae6VEeSuQdU+U+i76JYLgIojXIM+7gzwT+FsNht6nocoDKnJsnebwc5zo6XivEBLfSvCGOJmior6VVGxinpbVVVX5Zmu6M4mCAY8NkMeASJg1/pxEUL0MYoizGyb3QONHfxIwZs4yP/cQJKRxcUX5D9/dMX3r1r9/gX39nZgkbufWRGRnaSUhgbUEFkf1+u1IfWGRstQEROsA2MvYpOJrVExxfnMKGduypV7qkuFYOW+tujSOREx4f1wU05kfWSlPEKcM5Ikhb/doShL5NwOBhnjxiWunQLXE+8tz+GbCa3FYnFJTxuToifw/vkZtWe8CVZj/+F86S7H3mI2Ph8Fl+/P4unHC/vFX5IAcyWuhy4cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-change-format-and-size\"\n        title=\"image-change-format-and-size\"\n        src=\"/static/b55f76661a7d640c6fd32a44e8d35c65/fcda8/change-format-and-size.png\"\n        srcset=\"/static/b55f76661a7d640c6fd32a44e8d35c65/12f09/change-format-and-size.png 148w,\n/static/b55f76661a7d640c6fd32a44e8d35c65/e4a3f/change-format-and-size.png 295w,\n/static/b55f76661a7d640c6fd32a44e8d35c65/fcda8/change-format-and-size.png 590w,\n/static/b55f76661a7d640c6fd32a44e8d35c65/efc66/change-format-and-size.png 885w,\n/static/b55f76661a7d640c6fd32a44e8d35c65/c83ae/change-format-and-size.png 1180w,\n/static/b55f76661a7d640c6fd32a44e8d35c65/e1250/change-format-and-size.png 1786w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"国际健康码微信小程序上传图片技巧","date":"December 26, 2020","description":"tips of using the wechat miniprogram for traveling"}}},"pageContext":{"slug":"/wechat-travel-safety-miniprogram-tips/","previous":{"fields":{"slug":"/ideavim/"},"frontmatter":{"title":"核心工具之 ideavim"}},"next":{"fields":{"slug":"/sneaky-edmond/"},"frontmatter":{"title":"Special Holiday Story - Sneaky Edmond!"}}}},"staticQueryHashes":["426816048","63159454"]}